
@{
    ViewData["Title"] = "SubmitFormDataFILE";
}

<h1>SubmitFormDataFILE</h1>

<form id="myForm" enctype="multipart/form-data">
    <input type="file" name="file" id="fileInput">
    <input type="text" name="Name" value="John" />
    <input type="email" name="Email" value="john@example.com" />
    <input type="submit" class="btn btn-primary active" id="savebutton" style="padding:3px 8px;border-radius:6px;" value="Apply Leave" />

</form>
@*<form id="form1">
        <input type="text" name="Name" value="John" />
        <input type="email" name="Email" value="john@example.com" />

    </form>

    <form id="form2">
        <input type="text" name="Name" value="John" />
        <input type="email" name="Email" value="john@example.com" />

    </form>*@

@*<button id="submitBtn">Submit</button>*@
<script src="https://code.jquery.com/jquery-3.6.2.min.js" integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $('#myForm').submit(function (event) {
            event.preventDefault();
            debugger;

            var formDataList = [];
            var formData = new FormData(this);
            formDataList.push(formData);
            $.ajax({
                url: "/Attendance/SubmitFormDataFILE",
                type: 'POST',
                data: JSON.stringify(formDataList), // Convert the list to JSON string
                /*   dataType: 'json',*/
                /* processData: false,*/
                contentType: 'application/json',
                success: function (response) {
                    // Handle the response
                    console.log(response);
                },
                error: function (xhr, status, error) {
                    // Handle errors
                    alert("Error")
                }
            });
        });
    });


    //$(document).ready(function () {
    //    $('#myForm').submit(function (event) {
    //        event.preventDefault(); // Prevent the default form submission

    //        // Create an empty object
    //        var formData = {};

    //        // Get the file input element
    //        var fileInput = $('#fileInput')[0];

    //        // Add the file to the formData object
    //        formData.file = fileInput.files[0];

    //        // You can also add additional form data fields to the formData object if needed
    //        // formData.field1 = 'value1';
    //        // formData.field2 = 'value2';

    //        // Make the AJAX request
    //        $.ajax({
    //            url: "/Attendance/SubmitFormDataFILE", // Replace with your server-side endpoint
    //            type: 'POST',
    //            data: JSON.stringify(formData),
    //            dataType: 'json',
    //            contentType: false,
    //            success: function (response) {
    //                // Handle the success response
    //                console.log(response);
    //            },
    //            error: function (xhr, status, error) {
    //                // Handle the error response
    //                console.error(error);
    //            }
    //        });
    //    });
    //});

</script>